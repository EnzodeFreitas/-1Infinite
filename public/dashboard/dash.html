<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard | -1Infinite</title>
    <!-- Biblioteca para √≠cone -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">
    <!-- Bibliteca particle.js -->
    <link rel="stylesheet" href="./css/dash.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="page-fade-in">
        <!-- SIDE -->
        <div class="side">
            <ul class="social">
                 <li class="social-item"><a href="../map.html"><i class="bx bx-arrow-back"></i></a></li>
             
            </ul>
        </div>
    <h1 class="titulo-principal">An√°lise das Rotas e Ferramentas Utilizadas</h1>
    <div class="graficos">
        <div class="grafico-container">
            <div class="kpi">
                <span>üåç Total de rotas: <strong>26</strong></span>
            </div>
            <canvas id="myChart"></canvas>
        </div>
        <div class="grafico-container">
            <div class="kpi">
                <span>üìç Ferramenta Mais Usada: <strong>Ret√¢ngulo</strong></span>
            </div>
            <canvas id="myChart2"></canvas>
        </div>
    </div>

    <script>
        // SETUP 
        // LABELS FIXOS PARA CADA HOR√ÅRIO

        // GR√ÅFICO LINHAS - QUANTIDADE DE ROTAS POR FAIXA DE DIST√ÇNCIA
        const labels = ['0‚Äì1 km', '1‚Äì2 km', '2‚Äì3 km', '3‚Äì4 km', '4‚Äì5 km'];

        // GR√ÅFICO BARRAS X FERRAMENTAS
        const labels2 = ['Rota', 'Pol√≠gono criativo', 'Ret√¢ngulo', 'Circunfer√™ncia', 'Marcador', 'Marcador em √Årea'];

        // DADOS FIXOS
        // GR√ÅFICO LINHAS
        const data = {
            labels: labels,
            datasets: [
                {
                    // Dados da quantidade de rotas
                    label: 'Quantidade de Rotas',
                    data: [5, 12, 9, 3, 1], // N√∫mero de rotas que ca√≠ram em cada faixa de dist√¢ncia
                    borderColor: 'blue',
                    backgroundColor: 'rgba(0, 0, 255, 0.5)',
                    yAxisID: 'y',
                    tension: 0.3
                }
            ]
        };

        // GR√ÅFICO BARRAS
        const data2 = {
            labels: labels2,
            datasets: [
                {
                    // Dados da quantidade de ferramentas
                    label: 'Quantidade',
                    data: [22, 24, 27, 23, 20, 18],
                    borderColor: 'red',
                    borderWidth: 2.5,
                    backgroundColor: 'rgba(255, 0, 0, 0.5)',
                    yAxisID: 'y',
                    tension: 0
                },
            ]
        };

        // CONFIG - GR√ÅFICO LINHAS
        const config = {
            type: 'line', // Tipo de gr√°fico: linha
            data: data, // Dados a serem exibidos
            options: {
                responsive: true, // Faz o gr√°fico se ajustar ao tamanho da tela
                interaction: {
                    mode: 'index', // Intera√ß√£o no gr√°fico em modo √≠ndice
                    intersect: false, // N√£o precisa intersectar as linhas
                },
                stacked: false, // N√£o permitir que as linhas fiquem empilhadas
                plugins: {
                    title: {
                        display: true, // Exibe o t√≠tulo
                        text: 'N√∫mero de Rotas por Faixa de Dist√¢ncia' // Texto do t√≠tulo
                    }
                },
                scales: {
                    // === EIXO X ===
                    x: {
                        title: {
                            display: true, // Exibe o t√≠tulo do eixo X
                            text: 'Faixa de Dist√¢ncia (km)' // Texto do t√≠tulo
                        }
                    },
                    // === EIXO Y ===
                    y: {
                        type: 'linear', // Tipo do eixo Y: linear (num√©rico)
                        display: true, // Exibe o eixo Y
                        position: 'left', // Posi√ß√£o do eixo  
                        min: 0, // Valor m√≠nimo 
                        max: 15, // Valor m√°ximo
                        ticks: {
                            stepSize: 3 // Define o tamanho do incremento (0, 3, 6...)
                        },
                        title: {
                            display: true, // Exibe o t√≠tulo do eixo 
                            text: 'Quantidade de rotas'
                        }
                    },
                }
            },
        };

        // CONFIG - GR√ÅFICO DE BARRAS
        const config2 = {
            type: 'bar', // Gr√°fico de barras
            data: data2,
            options: {
                responsive: true,
                interaction: {
                    mode: 'index',
                    intersect: false,
                },
                plugins: {
                    title: {
                        display: true,
                        text: 'Ferramentas utilizadas'
                    }
                },
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Formas'
                        }
                    },
                    y: { // ===== Y FERRAMENTAS =====//
                        type: 'linear',
                        display: true,
                        position: 'left',
                        min: 0,
                        max: 40,
                        ticks: {
                            stepSize: 5
                        },
                        title: {
                            display: true,
                            text: 'Quantidade'
                        }
                    },
                }
            }
        };

        // CRIANDO O GR√ÅFICO DE LINHAS
        const myChart = new Chart(
            document.getElementById('myChart'), // O canvas onde o gr√°fico ser√° desenhado
            config // A configura√ß√£o do gr√°fico de linha
        );

        // CRIANDO O GR√ÅFICO DE BARRAS
        const myChart2 = new Chart(
            document.getElementById('myChart2'),
            config2
        );
    </script>

</body>
</html>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        document.body.classList.add('loaded');
    });
</script>